# MCP Logger - คู่มือฉบับละเอียด

## 1. บทนำ
`mcp-logger` เป็นเซิร์ฟเวอร์ MCP (Model Context Protocol) ที่ออกแบบมาเพื่อเชื่อมต่อระหว่างผู้ช่วย AI และโครงสร้างพื้นฐาน Syslog ช่วยให้ AI สามารถใช้ Syslog สำหรับการบันทึกและการติดตามสถานะ

## 2. การกำหนดค่า

### Claude Desktop
เพิ่มใน `%APPDATA%\Claude\claude_desktop_config.json` (Windows) หรือ `~/Library/Application Support/Claude/claude_desktop_config.json` (macOS)

```json
{
  "mcpServers": {
    "mcp-logger": {
      "command": "/path/to/mcp-logger",
      "args": ["run-mcp"]
    }
  }
}
```

## 3. ข้อมูลอ้างอิงเครื่องมือ

### `send-syslog`
ส่งข้อความไปยังเซิร์ฟเวอร์ Syslog

| พารามิเตอร์ | ประเภท | ค่าเริ่มต้น | คำอธิบาย |
| :--- | :--- | :--- | :--- |
| `server` | string | (จำเป็น) | IP หรือชื่อโฮสต์ของเซิร์ฟเวอร์ปลายทาง |
| `port` | number | 514 | หมายเลขพอร์ต UDP |
| `facility` | string | user | Syslog facility (kern, user, mail ฯลฯ) |
| `severity` | string | info | ระดับความรุนแรงของ Syslog (emerg, alert, crit, err, warning, notice, info, debug) |
| `tag` | string | mcp-syslog | ชื่อโปรแกรม/แท็ก |
| `encoding` | string | utf-8 | การเข้ารหัสอักขระ |
| `message` | string | (จำเป็น) | เนื้อหาบันทึก |

## 4. คู่มืออักขระหลายไบต์ (สำหรับประเทศที่ใช้ภาษาไทยและภาษาอื่นที่ไม่ใช่ ASCII)
หากคุณอยู่ในประเทศที่ใช้อักขระหลายไบต์ (ไทย, ญี่ปุ่น, เกาหลี, จีน ฯลฯ) โปรดปฏิบัติตามคำแนะนำเหล่านี้:

### คำแนะนำ: ใช้ UTF-8
`mcp-logger` ได้รับการปรับให้เหมาะสมสำหรับ UTF-8 โดยจะตรวจจับโดยอัตโนมัติหากข้อความมีอักขระที่ไม่ใช่ ASCII และจะให้ **UTF-8 BOM (Byte Order Mark)** หากจำเป็น

### การโต้ตอบกับเซิร์ฟเวอร์ Syslog
เซิร์ฟเวอร์ Syslog บน Windows จำนวนมาก (เช่น `vlt-syslogd`) หรือการตั้งค่า `rsyslog` บน Linux สมัยใหม่สามารถจัดการกับ UTF-8 ได้หากมีการระบุอย่างถูกต้อง BOM ช่วยให้มั่นใจได้ว่าเครื่องมือเหล่านี้จะไม่ถือว่าบันทึกเป็นการเข้ารหัสดั้งเดิมของท้องถิ่น

## 5. การแก้ไขปัญหา
- **AI ไม่รู้จักเครื่องมือ**: ตรวจสอบให้แน่ใจว่าเส้นทางในไฟล์กำหนดค่าเป็นเส้นทางสัมบูรณ์ (absolute path)
- **บันทึกไม่มาถึง**: ตรวจสอบว่าพอร์ต UDP 514 เปิดอยู่ในไฟร์วอลล์ของเซิร์ฟเวอร์ปลายทางหรือไม่
- **ตัวอักษรเพี้ยน**: ตรวจสอบให้แน่ใจว่าพารามิเตอร์ `encoding` ถูกตั้งค่าเป็น `utf-8` โดยปกติแล้วโมเดล AI จะชอบ UTF-8

## 6. คู่มือเพิ่มเติม
- [คู่มือการตั้งค่าข้ามแพลตฟอร์ม](CROSS_PLATFORM_SETUP.th.md)
- [คู่มือการตั้งค่า LM Studio](LM_STUDIO_SETUP.th.md)
- [ตัวอย่างโปรโตคอล MCP](MCP_PROTOCOL_EXAMPLES.th.md)
- [ข้อกำหนดทางเทคนิค (SPEC)](SPEC.md)
