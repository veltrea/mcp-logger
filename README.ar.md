# MCP Logger ([English](README.md) | [日本語](README.ja.md) | [한국어](README.ko.md) | [简体中文](README.zh-CN.md) | [繁體中文](README.zh-TW.md) | [Tiếng Việt](README.vi.md) | [ไทย](README.th.md) | [हिन्दी](README.hi.md) | [العربية](README.ar.md) | [Русский](README.ru.md))

## نظرة عامة
يوفر هذا المشروع خادم MCP (بروتوكول سياق النموذج) الذي يمكّن المساعدين الذكيين (مثل Claude وGemini وما إلى ذلك) من استخدام البنية التحتية لـ Syslog لأغراض التسجيل والمراقبة.
إن المشروع في حد ذاته ليس "خادم Syslog"، ولكنه يوفر "وظيفة عميل" للذكاء الاصطناعي لإرسال السجلات إلى خادم Syslog موجود (مثل `rsyslog` أو `syslog-ng` أو `vlt-syslogd`).

يشترك هذا المشروع في المنطق الأساسي مع `rust-logger` (مسجل CLI للبشر)، مع توفير واجهة محسنة للتفاعل مع الذكاء الاصطناعي.

## الميزات الرئيسية
- **إرسال رسائل Syslog**: يمكن للذكاء الاصطناعي تحديد الخادم والمنفذ والمرفق (facility) والخطورة (severity) والوسم (tag) والترميز والرسالة لإرسال Syslog.
- **دعم الأحرف متعددة البايت (UTF-8 مع BOM)**: مصمم خصيصاً للتعامل مع الأحرف غير التابعة لـ ASCII (العربية، اليابانية، الصينية، الكورية، إلخ) بشكل صحيح لضمان عدم حدوث أخطاء في الخطوط أثناء تحليل الذكاء الاصطناعي.
- **تصميم مزدوج CLI-MCP**: يعمل كأداة CLI مستقلة للبشر وخادم MCP للذكاء الاصطناعي.

## التثبيت
يتطلب بيئة Rust.

```bash
cargo build --release
```

## كيفية الاستخدام (الوضع المزدوج CLI / MCP)

تجمع هذه الأداة بين "CLI للبشر" و"خادم MCP للذكاء الاصطناعي".

### 1. وضع CLI للبشر
يمكنك إرسال السجلات مباشرة من جهازك الطرفي (Terminal).

```bash
# الإرسال الأساسي
mcp-logger send 192.168.1.40 "مرحباً من CLI"

# الإرسال مع الخيارات
mcp-logger send 192.168.1.40 "حدث خطأ" --severity error --tag my-app
```

سيؤدي تشغيل `mcp-logger` بدون أي وسيطات في الجهاز الطرفي إلى عرض **دليل إعداد MCP**.

### 2. وضع مساعد الذكاء الاصطناعي (MCP)
أضف المحتوى التالي إلى ملف `claude_desktop_config.json` الخاص بك أو ملف التكوين المكافئ.

```json
{
  "mcpServers": {
    "mcp-logger": {
      "command": "/path/to/mcp-logger",
      "args": ["run-mcp"]
    }
  }
}
```

## أدوات MCP (Tools)
الميزات المتاحة للذكاء الاصطناعي.

### `send-syslog`
يرسل رسالة Syslog إلى الخادم المحدد.

**الوسيطات (Arguments):**
- `server` (string، إلزامي): اسم المضيف أو عنوان IP لخادم Syslog.
- `port` (number): رقم المنفذ (الافتراضي: `514`).
- `facility` (string): المرفق (مثل `user` أو `local0`) الافتراضي هو `user`.
- `severity` (string): الخطورة (مثل `info` أو `error`) الافتراضي هو `info`.
- `tag` (string): اسم البرنامج (الوسم) الافتراضي هو `mcp-syslog`.
- `encoding` (string): الترميز (مثل `utf-8`) الافتراضي هو `utf-8`.
- `message` (string، إلزامي): رسالة السجل.

## هام: التعامل مع الأحرف متعددة البايت
بالنسبة للغات التي تستخدم أحرفاً متعددة البايت (مثل العربية)، يُنصح الذكاء الاصطناعي باستخدام `utf-8`. سيقوم الخادم تلقائياً بإرفاق **UTF-8 BOM** للتأكد من أن خوادم Syslog وأدوات التحليل اللاحقة تتعرف على الترميز بشكل صحيح.

## الوثائق
- [Manual مفصل](docs/MANUAL.ar.md)
- [دليل الإعداد عبر المنصات](docs/CROSS_PLATFORM_SETUP.ar.md)
- [دليل إعداد LM Studio](docs/LM_STUDIO_SETUP.ar.md)
- [أمثلة بروتوكول MCP](docs/MCP_PROTOCOL_EXAMPLES.ar.md)
- [المواصفات الفنية (SPEC)](docs/SPEC.md)
