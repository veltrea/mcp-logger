# MCP Logger ([English](README.md) | [日本語](README.ja.md) | [한국어](README.ko.md) | [简体中文](README.zh-CN.md) | [繁體中文](README.zh-TW.md) | [Tiếng Việt](README.vi.md) | [ไทย](README.th.md) | [हिन्दी](README.hi.md) | [العربية](README.ar.md) | [Русский](README.ru.md))

## ภาพรวม
โปรเจกต์นี้มีเซิร์ฟเวอร์ MCP (Model Context Protocol) ที่ช่วยให้ผู้ช่วย AI (เช่น Claude, Gemini ฯลฯ) สามารถใช้โครงสร้างพื้นฐาน Syslog สำหรับการบันทึกและการตรวจสอบ
ตัวมันเองไม่ใช่ "เซิร์ฟเวอร์ Syslog" แต่ให้ "ความสามารถของไคลเอนต์" สำหรับ AI ในการส่งบันทึกไปยังเซิร์ฟเวอร์ Syslog ที่มีอยู่ (เช่น `rsyslog`, `syslog-ng` หรือ `vlt-syslogd`)

โปรเจกต์นี้แชร์ตรรกะหลักกับ `rust-logger` (เครื่องมือบันทึก CLI สำหรับมนุษย์) ในขณะที่ให้ส่วนต่อประสานที่ปรับให้เหมาะสมสำหรับการโต้ตอบกับ AI

## คุณสมบัติหลัก
- **ส่งข้อความ Syslog**: AI สามารถระบุเซิร์ฟเวอร์, พอร์ต, facility, ระดับความรุนแรง (severity), แท็ก, การเข้ารหัส และข้อความเพื่อส่ง Syslog
- **รองรับอักขระหลายไบต์ (UTF-8 พร้อม BOM)**: ออกแบบมาเป็นพิเศษเพื่อจัดการกับอักขระที่ไม่ใช่ ASCII (ไทย, ญี่ปุ่น, จีน, เกาหลี ฯลฯ) อย่างถูกต้องเพื่อให้แน่ใจว่าการวิเคราะห์ของ AI จะไม่เกิดปัญหาตัวอักษรเพี้ยน
- **การออกแบบคู่ CLI-MCP**: ทำงานเป็นทั้งเครื่องมือ CLI แบบสแตนด์อโลนสำหรับมนุษย์และเซิร์ฟเวอร์ MCP สำหรับ AI

## การติดตั้ง
ต้องมีสภาพแวดล้อม Rust

```bash
cargo build --release
```

## วิธีใช้งาน (โหมดคู่ CLI / MCP)

เครื่องมือนี้รวม "CLI สำหรับมนุษย์" และ "เซิร์ฟเวอร์ MCP สำหรับ AI" เข้าด้วยกัน

### 1. โหมด CLI สำหรับมนุษย์
คุณสามารถส่งบันทึกได้โดยตรงจากเทอร์มินัลของคุณ

```bash
# การส่งพื้นฐาน
mcp-logger send 192.168.1.100 "สวัสดีจาก CLI"

# ส่งพร้อมตัวเลือก
mcp-logger send 192.168.1.100 "เกิดข้อผิดพลาด" --severity error --tag my-app
```

การรัน `mcp-logger` โดยไม่มีอาร์กิวเมนต์ในเทอร์มินัลจะแสดง **คู่มือการตั้งค่า MCP**

### 2. โหมดผู้ช่วย AI (MCP)
เพิ่มเนื้อหาต่อไปนี้ใน `claude_desktop_config.json` หรือไฟล์กำหนดค่าที่เทียบเท่าของคุณ

```json
{
  "mcpServers": {
    "mcp-logger": {
      "command": "/path/to/mcp-logger",
      "args": ["run-mcp"]
    }
  }
}
```

## เครื่องมือ MCP (Tools)
คุณสมบัติที่มีให้สำหรับ AI

### `send-syslog`
ส่งข้อความ Syslog ไปยังเซิร์ฟเวอร์ที่ระบุ

**อาร์กิวเมนต์ (Arguments):**
- `server` (string, จำเป็น): ชื่อโฮสต์หรือ IP ของเซิร์ฟเวอร์ Syslog
- `port` (number): หมายเลขพอร์ต (ค่าเริ่มต้น: `514`)
- `facility` (string): Facility (เช่น `user`, `local0`) ค่าเริ่มต้นคือ `user`
- `severity` (string): ระดับความรุนแรง (เช่น `info`, `error`) ค่าเริ่มต้นคือ `info`
- `tag` (string): ชื่อโปรแกรม (แท็ก) ค่าเริ่มต้นคือ `mcp-syslog`
- `encoding` (string): การเข้ารหัส (เช่น `utf-8`, `tis-620`) ค่าเริ่มต้นคือ `utf-8`
- `message` (string, จำเป็น): ข้อความบันทึก

## สำคัญ: การจัดการอักขระหลายไบต์
สำหรับภาษาที่ใช้อักขระหลายไบต์ (เช่น ภาษาไทย) AI จะได้รับคำแนะนำให้ใช้ `utf-8` เซิร์ฟเวอร์จะแนบ **UTF-8 BOM** โดยอัตโนมัติเพื่อให้แน่ใจว่าเซิร์ฟเวอร์ Syslog และเครื่องมือวิเคราะห์ในภายหลังจะระบุการเข้ารหัสได้อย่างถูกต้อง

## เอกสารประกอบ
- [คู่มือฉบับละเอียด](docs/MANUAL.th.md)
- [คู่มือการตั้งค่าข้ามแพลตฟอร์ม](docs/CROSS_PLATFORM_SETUP.th.md)
- [คู่มือการตั้งค่า LM Studio](docs/LM_STUDIO_SETUP.th.md)
- [ตัวอย่างโปรโตคอล MCP](docs/MCP_PROTOCOL_EXAMPLES.th.md)
- [ข้อกำหนดทางเทคนิค (SPEC)](docs/SPEC.md)
